<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>Everyone's a Critic - The Why And How of Code Review</title>

  <meta name="description"
        content="A presentation on why and how to do code review for Drupal">
  <meta name="author" content="Malcolm Young">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style"
        content="black-translucent">

  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="../css/reveal.css">
  <link rel="stylesheet" href="../css/theme/malcomio.css">

  <!-- Theme used for syntax highlighting of code -->
  <link rel="stylesheet" href="../lib/css/zenburn.css">

  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement('link');
    var print = window.location.search.match(/print-pdf/gi);

    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = print ? '/css/print/pdf.css' : '/css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  </script>

  <!--[if lt IE 9]><script src="../lib/js/html5shiv.js"></script><![endif]-->
</head>

<body>

<div class="reveal">

  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">
    <section data-markdown data-background-color="#fff">
      <script type="text/template">
        # Everyone's A Critic
        ## The Why And How of Code Review

        Malcolm Young  
        Senior Software Engineer  
        <img src="../images/capgemini_logo.svg" class="no-border" width="300"/>

        [@malcomio](https://twitter.com/malcomio)

        https://malcomio.github.io/presentations/code-review

        <aside class="notes">
          I'm not going to give you answers in this talk, but hopefully I'll help you ask the right questions  
        </aside>
      </script>
    </section>

    <section data-background-image="images/why.jpg" data-background-color="#fff">
      <script type="text/template">
        
        <aside class="notes">
          People think they don't have time  
          Not reviewing code is a false economy
          Any manager who says it isn't good value - show them this graph  
        </aside>
      </script>
    </section>

    <section
      data-markdown
      data-background-image="images/code-reviews.png"
      data-background-size="contain"
      class="text-on-light"
    >
      <script type="text/template">
        ## Prevent bugs

        <aside class="notes">
          2 Graphs from large project a few years ago
          Direct correlation between increase in code review and decrease in bugs

        </aside>
      </script>
    </section>

    <section
      data-markdown
      data-background-image="images/spaghetti.jpg"
      class="text-on-light"
    >
      <script type="text/template">
        ## Improve maintainability

        <aside class="notes">
          Long term projects - cost of maintenance  
          Your future self will thank you  
        </aside>
      </script>
    </section>

    <section
      data-markdown
      data-background-image="images/learning.jpg"
    >
      <script type="text/template">
        <p>&nbsp;</p>

        <aside class="notes">
          learning opportunity  
          I've learned so much from code reviews, thanks to colleagues, senior and junior
          Along with pair programming, it's a great learning resource  
          Other people's code, other people's opinions on code
          Everyone has something to contribute - code review isn't a one way street, with seniors telling juniors how it should be done
          Suggestions for improvements
          Better ways of doing things

        </aside>
      </script>
    </section>
    
    <section class="no-border">       
        <table>
          <tr>
            <td><img src="images/alex_pott.jpg" /></td>
          </tr>
          <tr>
            <td class="text-center"><h2>Thanks Alex</h2></td>
          </tr>
          <tr>
            <td></td>
          </tr>
        </table>
        <aside class="notes">
          In the Drupal community, there are a lot of reasons to say thanks to Alex Pott.  
          Within the Drupal team at Capgemini, 
          He pushed for our team to make code review part of our process  
          
          Not everyone is lucky enough to work with people like Alex, but 
        </aside>
    </section>
    
    <section  data-markdown>
      <script type="text/template">
        <blockquote>one who makes no mistakes makes nothing</blockquote>  
        Giacomo Casanova
        
        <aside class="notes">
          Everybody makes mistakes 
          Even if it's 
          No matter how senior you are, how much experience you have, 
          Even if you're working on your own, it's useful to review your code  
          Looking at the difference in a different context can help you to see it in a new light, and spot potential problems
        </aside>
      </script>
    </section>

    <section data-background-image="images/how.jpg">
      <script type="text/template">
        <p></p>
        <aside class="notes">
          
        </aside>
      </script>
    </section>

    <section data-markdown data-background-color="#fff">
      <script type="text/template">
        ## Tools
        
        <table class="no-border">
          <tr>
            <td><img class="no-border" src="images/GitHub_Logo.png"/></td>
            <td><img class="no-border" src="images/bitbucket_rgb_blue.svg"/></td>
          </tr>
        </table>
        
        
        <aside class="notes">
          Git branching 
        </aside>
      </script>
    </section>

    <section
      data-markdown
      data-background-image="images/binoculars.jpg"
      class="text-on-light"
    >
      <script type="text/template">
        <h2>What Are We Looking For?</h2>
        <ul class="fragment">
          <li>Will It Work?</li>
          <li class="fragment">Security</li>
          <li class="fragment">Performance</li>
          <li class="fragment">Accessibility</li>
          <li class="fragment">Maintainability</li>
        </ul>
        <aside class="notes">
          Some of the points in this talk are specific to Drupal, others less so
          
          Are you actually meeting the requirements?  
          Are you making yourself vulnerable
        </aside>
      </script>
    </section>
    
    <section
      data-markdown
      data-background-image="images/trust_no_one.jpg"
      class="text-on-light">
      <script type="text/template">
        <h2 class="fragment">Never Trust User Input</h2>
        <p class="fragment">Sanitise Everything</p>
        <p class="fragment">
          [drupal.org/docs/7/security/writing-secure-code](https://www.drupal.org/docs/7/security/writing-secure-code)
          [drupal.org/docs/8/security/writing-secure-code-for-drupal-8](https://www.drupal.org/docs/8/security/writing-secure-code-for-drupal-8)
        </p>

        <aside class="notes">
          How and where are we storing and transmitting user data?  
          Is it sensitive data? Do we need to encrypt it?
        </aside>
      </script>
    </section>

    <section data-markdown data-background-image="images/speedometer.jpg" class="text-on-light">
      <script type="text/template">
        <h2 class="fragment">Performance</h2>
        <p class="fragment">Unnecessary sessions?</p>
        <p class="fragment">Caching</p>
        <p class="fragment">Inefficient loops</p>
        <p class="fragment"></p>
        <aside class="notes"> </aside>
      </script>
    </section>

    <section
      data-markdown 
      data-background-image="images/accessibility.jpg"
      class="text-on-light"
    >
      <script type="text/template">
        <h2 class="fragment">Accessibility</h2>
        <p class="fragment">Keyboard users</p>
        <p class="fragment">Hiding text appropriately?</p>
        <p class="fragment">Hover and focus</p>
        <p class="fragment"></p>
        
        <aside class="notes">
          Getting accessibility right is difficult.
          Knowing how to apply appropriate ARIA roles takes time and energy.
          But you can get a long way with a few basic rules of thumb.  
        </aside>
      </script>
    </section>

    <section data-markdown data-background-image="images/men_at_work.jpg" class="text-on-light">
      <script type="text/template">
        <h2 class="fragment">Maintainability</h2>
        <p class="fragment">Reinventing the wheel</p>
        <p class="fragment">Appropriate API usage</p>
        <p class="fragment">Unit test coverage</p>
        <p class="fragment">Comments</p>

        <aside class="notes">
          
          Enough comments? Too many comments can sometimes become noise  
        </aside>
      </script>
    </section>

    <section
      data-markdown
      data-background-image="images/dogs.jpg"
      class="text-on-light"
    >
      <script type="text/template">
        <h2 class="fragment">Code smells</h2>
        <p class="fragment">
          Larry Garfield at DrupalCon London 2011  
          https://www.youtube.com/watch?v=Z78ZP_UtaKE
        </p>
        <ul class="fragment">
          <li>And</li>
          <li class="fragment">Or</li>
          <li class="fragment">If</li>
          <li class="fragment">Testability</li>
          <li class="fragment">Documentation</li>
          <li class="fragment">Tight Coupling</li>
          <li class="fragment">Impurity</li>
        </ul>

        <aside class="notes">
          What is a code smell?  
          A sign of possible problems.  
          Not rules, but guidelines
          a lot of these ideas are applicable to other languages - they don't change
          
          
        </aside>
      </script>
    </section>

    <section
      data-markdown
      data-background-image="images/automate.jpg"
      data-background-size="contain"
      data-background-color="#FFF"
      class="text-on-light">
      <script type="text/template">
        <p class="fragment">http://reload.github.io/jenkins-drupal-template/</p>
        <aside class="notes">
          builds
          automated testing

          appropriate level depends on size of your team

          pull requests - unit testing, checkstyle

          Why coding standards?
        </aside>
      </script>
    </section>

    <section
      data-markdown
      data-background-color="#fff"
      data-background-image="images/needle.jpg"
    >
      <script type="text/template">
        ## How?
        <aside class="notes">
          ### Custom v contrib
          There's a module for that
          But is it appropriate?
        </aside>
      </script>
    </section>
    
    <section data-background-image="images/statler.jpg">
      <script type="text/template">
        <h2 class="fragment">Don't make it personal</h2>
        <aside class="notes">
          don't get personal  
          How your team behaves towards each other 
        </aside>
      </script>
    </section>

    <section
      data-background-image="images/haystacks.jpg"
      class="text-on-light"
    >
      <h2 class="fragment">Small is Beautiful</h2>
      <div class="fragment">
        
        <blockquote class="twitter-tweet text-center" data-lang="en"><p lang="en" dir="ltr">10 lines of code = 10 issues.<br><br>500 lines of code = &quot;looks fine.&quot;<br><br>Code reviews.</p>&mdash; I Am Devloper (@iamdevloper) <a href="https://twitter.com/iamdevloper/status/397664295875805184">November 5, 2013</a></blockquote>
        <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
      </div>
        <aside class="notes">
          Not so much about the review itself, but about the pull request.  
          In the same way that long functions are a code smell, so are big pull requests  
          Branching is easy with Git - if it's a big feature, create a feature branch, and review the code as it's being merged into that branch  
          If you wait until the feature is ready to merge into your main branch, reviewing it will be a nightmare  
          Review
          Watch out for attention fatigue - it's difficult  
          And that seems like an appropriate place to finish.
        </aside>
    </section>

    <section>
      <h2>Image credits</h2>  
      <div class="split-screen three-column">
        <a href="https://www.flickr.com/photos/ksayer/5614813544">Why</a>
        <a href="https://commons.wikimedia.org/wiki/File:Waldorf_Statler_Wall_Painting.jpg">Statler & Waldorf</a>
        <a href="http://www.tsphethean.co.uk/blog/2013/11/28/Reviewing-code-reviews/">Defect Graphs</a>
        <a href="https://commons.wikimedia.org/wiki/File:Naehnadel.jpg">Needle</a>
        <a href="https://commons.wikimedia.org/wiki/File:Hay_cocks_-_geograph.org.uk_-_1439469.jpg">Haystacks</a>
        <a href="https://www.flickr.com/photos/lynnfriedman/6278971615">Trust No One</a>
        <a href="https://www.flickr.com/photos/wfryer/3242288624">Speak Your Mind</a>
        <a href="https://twitter.com/pdjohnson/status/781489468008194049">Alex Pott</a>
        <a href="https://www.flickr.com/photos/cloresinparadise/3382640460">Binoculars</a>
        <a href="https://www.flickr.com/photos/steve-wilson/458703692">Dogs</a>
        <a href="https://www.flickr.com/photos/stevendepolo/15817264281">Spaghetti</a>
        <a href="https://www.flickr.com/photos/cogdog/15905754123">Learning</a>
        <a href="https://www.flickr.com/photos/sabertasche2/2609405516">How</a>
        <a href="https://www.flickr.com/photos/hadamsky/293346840">Speedometer</a>
        <a href="https://www.flickr.com/photos/otrops/4716966580">Accessibility</a>
        <a href="https://www.flickr.com/photos/16210667@N02/9172895225">Men at Work</a>
      </div>
    </section>

    <section data-markdown>
      <script type="text/template">
        ## Further Reading
        [Better Learning Through Code Reviews](https://capgemini.github.io/learning/better-learning-code-reviews/)  

        [What To Look For In A Code Review](https://capgemini.github.io/drupal/what-to-look-for-in-code-review/)
      </script>
    </section>

    <section data-markdown data-background-color="#fff">
      <script type="text/template">
        <img src="../images/capgemini_logo.svg" class="no-border"/>
        https://capgemini.github.io

        https://malcomio.github.io/presentations/code-review

        [@malcomio](https://twitter.com/malcomio)

        <aside class="notes">

        </aside>
      </script>
    </section>
  </div>

</div>

<script src="../lib/js/head.min.js"></script>
<script src="../js/reveal.js"></script>

<script>

  // More info https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,
    showNotes: print,
    slideNumber: 'c/t',

    transition: 'slide', // none/fade/slide/convex/concave/zoom

    // More info https://github.com/hakimel/reveal.js#dependencies
    dependencies: [
      {
        src: '../lib/js/classList.js',
        condition: function () {
          return !document.body.classList;
        }
      },
      {
        src: '../plugin/markdown/marked.js',
        condition: function () {
          return !!document.querySelector('[data-markdown]');
        }
      },
      {
        src: '../plugin/markdown/markdown.js',
        condition: function () {
          return !!document.querySelector('[data-markdown]');
        }
      },
      {
        src: '../plugin/highlight/highlight.js',
        async: true,
        callback: function () {
          hljs.initHighlightingOnLoad();
        }
      },
      {
        src: '../plugin/zoom-js/zoom.js',
        async: true
      },
      {
        src: '../plugin/notes/notes.js',
        async: true
      }
    ]
  });

</script>

</body>
</html>
